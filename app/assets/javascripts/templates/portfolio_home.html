<div class="row" ng-controller="RisksCtrl">
    <div class="col-xs-1">
    </div>
    <div class="col-xs-2">
        <h1>{{portfolio.name}}</h1>
        <p class="lead">{{portfolio.description}}</p>
        <a href='#/edit_portfolio/{{portfolio.id}}'>Configure Portfolio</a><br>
        <a href='#/'>Back to Portfolio Home</a>
        <p>Search Open Risks</p>
        <input ng-model="query" placeholder="Search risks">
        <div ng-controller="ProjectsCtrl">
            <br>
            <h4>Portfolio Projects:</h4>
            <ul class="list-group">
                <li class="list-group-item">
                    <form ng-submit="createProject()">
                        <label>Project Name:</label>
                        <input type="text" ng-model='newProject.name' placeholder="Enter Name of New Project"><br>
                        <label>Project Description</label>
                        <input type="text" ng-model='newProject.description' placeholder="Describe this Project">
                        <input type="submit" value="Add Project">
                    </form>
                </li>
                <li class="list-group-item" ng-repeat="project in portfolio.projects">
                       <p>{{project.name}}</p>
                       <a href='' ng-click="deleteProject(project.id, $index)">Remove</a><br>
                       <a href='#/project_home/{{project.id}}'>Link to {{project.name}} Home</a>
                </li>
            </ul>
            <br>
            </div>
    </div>
    <div class="col-xs-9">
        <h1>List of Portfolio Risks</h1>
        <select ng-model="orderProp">
            <small>Sort Risks:</small>
            <option value="name">Alphabetical</option>
            <option value="impact_rating">Impact Rating</option>
        </select>
            <div ng-repeat="risk in portfolio.risks | filter:query | orderBy:orderProp ">
                <div class="row">
                    <div class="col-xs-8">
                        <!-- <h4>Risk:</h4> -->
                        <p class="lead">{{risk.name}}</p>
                        <p class="small">{{risk.description}}</p><br>
                        <strong>Impact (out of 10): {{risk.impact_rating}}</strong>
                        <div class="progress progress-striped active">
                            <div class="progress-bar progress-bar-danger" role="progressbar"
                                 are-valuenow="{{risk.impact_rating}}"
                                 aria-valuemin="0" aria-valuemax="10"
                                 style="width:{{risk.impact_rating}}%">
                            </div>
                        </div>
                        <strong>Probability of Impact: {{risk.probability}} %</strong>
                        <div class="progress progress-striped active">
                            <div class="progress-bar" role="progressbar"
                                 aria-valuemin="0" aria-valuemax="100"
                                 style="width:{{risk.probability}}%">
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <bold>Earliest Possible Impact:</bold>
                        <p>{{risk.early_impact_date | date:'MMM-dd-yyyy'}}</p>
                        <bold>Latest Possible Impact:</bold>
                        <p>{{risk.late_impact_date | date:'MMM-dd-yyyy'}}</p>
                        <a href='' ng-click="deleteRisk(risk.id, $index)">Remove</a>
                    </div>
                </div>
            </div>
        </div>
    </div>





